<!DOCTYPE html>
<html>
  <head>
    <title>Home</title>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/jquery.slick/latest/slick.css"/>
    <style>
      html, body { margin: 0; padding: 0; background: black; user-select: none; }
      body * { user-select: none;}
      .img-wrapper { height: 100vh; width: 100vw!important; user-select: none; display: flex!important; justify-content: center; align-items: center; }
      .img-wrapper img { width: auto; height: auto; max-height: 100%; max-width: 100%; margin: 0 auto; user-select: none; }
      .nav { position: absolute; width: 100%; bottom: 0; text-align: center; }
      .nav-item { background: #424242; color: white; padding: 5px 10px; display: inline-block; font-family: Arial; text-decoration: none;}
      .slick-arrow { position: absolute; top: 0; bottom: 0; width: 10%; z-index: 100; }
      .slick-prev { left: 0; }
      .slick-next { right: 0; }
      .slick-track .img-wrapper:last-child { background: #424242; }
    </style>
  </head>
  <body>
    <div class="slick-wrapper"></div>
  </body>
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery.slick/latest/slick.min.js"></script>
  <script type="text/javascript">
  $(function() {
    var getUrlParameter = function getUrlParameter(sParam) {
      var sPageURL = decodeURIComponent(window.location.search.substring(1)),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;
      for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');
        if (sParameterName[0] === sParam) {
          return sParameterName[1] === undefined ? true : sParameterName[1];
        }
      }
    };
    var step;
    var name = getUrlParameter('name');
    var vol = getUrlParameter('vol');
    step = 1;
    while (step < 60) {
      imgsrc = 'https://readcomics.io/images/manga/'+name+'/'+vol+'/'+step+'.jpg';
      $(".slick-wrapper").append('<a class="img-wrapper"><img src="'+imgsrc+'"/></a>');
      $(".img-wrapper img").on('error', function() {
        $(this).parent().remove();
      });
      step++;
    }
    var prevVol = parseInt(vol)-1;
    var prevLink = location.protocol + '\/\/' + location.host + location.pathname +'?name='+ name+'&vol='+prevVol;
    var nextVol = parseInt(vol)+1;
    var nextLink = location.protocol + '\/\/' + location.host + location.pathname +'?name='+ name+'&vol='+nextVol;
    $('.slick-wrapper').slick({
      infinite: false
      ,lazyLoad: true
      ,prevArrow: '<div class="slick-prev slick-arrow"></div>'
      ,nextArrow: '<div class="slick-next slick-arrow"></div>'
      //arrows: false
    });
    setTimeout(function(){
      $('.slick-track .img-wrapper').first().attr('href', prevLink);
      $('.slick-track .img-wrapper').last().attr('href', nextLink);
    }, 2000);
  });
  </script>
</html>
